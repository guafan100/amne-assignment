
	this.dataservice.getLoc(addressA)
		.subscribe(data => { if(data.status === 'OK' ) {		
			let dataA = data.results[0].geometry.location;
			console.log(dataA);
			this.dataservice.getLoc(addressB)
			.subscribe(data => { if(data.status === 'OK') {
				let dataB = data.results[0].geometry.location;
				console.log(dataB);

				this.dataservice.getAgencies(dataA)
					.subscribe(data => { 

          let listA = data;

          while(data.next_page_token) {
            this.dataservice.getFollowAgencies(dataA, data.next_page_token)
              .subscribe(data => {

              });
          }

https://maps.googleapis.com/maps/api/place/nearbysearch/json?radius=16093&type=real_estate_agency&key=AIzaSyBwyhyXYztX3BZsVpqmGIYMcIOak-x5-js&location=34.7016721,-82.9171585&pagetoken=CrQCIwEAAGmVXO95BBxRqbr4iVB9m_vDzz4ZYVkGlLxkxTiL_LjU4J1hhOnPQv85EKOzk5G6aHDmNTmahm0k1TFARlTajYnGMVMNHlsNZm-6AnjKfo70l7ihyy1Gka8i_-bVC7O67LqjbqDY4Jgd0MQeLFI2Vs7UxQnmTwc7BkXdCdpE3sEX40MrqbJ0Jcqf4IRXobLOY0Q4fcLBy6hSvGn_5ShJ0NBBedXnl6M1ktmI7WxnYIR0fgcOfjmhkKpazUfasouPigUwU6e0JbNwN8l7nY1gE3BtqBr8ULYyuG5aHrBwvI34gFlxRktOBiUw59tx36bjGsEyUcNy0y4q5JALgfTgVEMaSDmDd6JdYtMBEKRpTxilopb0KHMvQGrKq1H2fHkGxQOyXPsTfEGH5vKsOrP9zTASEHla2XDWQKV_IzVj7DewYcMaFBesXXuaE3_psLJ6yk5yWyoqNVMV

https://maps.googleapis.com/maps/api/place/nearbysearch/json?radius=16093&type=real_estate_agency&key=AIzaSyBwyhyXYztX3BZsVpqmGIYMcIOak-x5-js&location=34.7016721,-82.9171585&pagetoken=CrQCIwEAAAsYTbiO--AojrMHp3d2OXSQs8r0nrnt3AqR_WRnMhzURdr7zYMkHbG9bzmWwLiPCYExBA6QafOKGaIEn8OJjaWCIVxlzFj0mMZlZ3zRx7854Qn4PxeHYrAM-wpbSZ3iAH6F76tOaXjyLVlqQL3oJoKPfYbb0ycktx0IIywHUpjW0vQ23j6zCgx6i7EUfrOuQt22kCHTFBia9Dk11O3ztHQQK7PCjUGHenvpYqVEdInj1gVq07CXr1JH5oAO_f8CaJBw3LpeoDh7MCxeYTIWNQUPlFYMLZfoeSLpyvDCwEWPG4AKg7ZWX26rp7ih8c5yqGHNFH1aUNGR7cJoPuk4kntjw06JLtF1iVe0vojeB8r3UErsoCK6OqE4EiDZ2pjoCgjLZGp9k5a2LXwCLlbmEbMSELoXD28F8mJpHFP4JWSkzeAaFOkZvqODijswoxUkLVhurE5OjB5m

https://maps.googleapis.com/maps/api/place/nearbysearch/json?radius=16093&type=real_estate_agency&key=AIzaSyBwyhyXYztX3BZsVpqmGIYMcIOak-x5-js&location=34.7016721,-82.9171585&nexttoken=CrQCIwEAAAsYTbiO--AojrMHp3d2OXSQs8r0nrnt3AqR_WRnMhzURdr7zYMkHbG9bzmWwLiPCYExBA6QafOKGaIEn8OJjaWCIVxlzFj0mMZlZ3zRx7854Qn4PxeHYrAM-wpbSZ3iAH6F76tOaXjyLVlqQL3oJoKPfYbb0ycktx0IIywHUpjW0vQ23j6zCgx6i7EUfrOuQt22kCHTFBia9Dk11O3ztHQQK7PCjUGHenvpYqVEdInj1gVq07CXr1JH5oAO_f8CaJBw3LpeoDh7MCxeYTIWNQUPlFYMLZfoeSLpyvDCwEWPG4AKg7ZWX26rp7ih8c5yqGHNFH1aUNGR7cJoPuk4kntjw06JLtF1iVe0vojeB8r3UErsoCK6OqE4EiDZ2pjoCgjLZGp9k5a2LXwCLlbmEbMSELoXD28F8mJpHFP4JWSkzeAaFOkZvqODijswoxUkLVhurE5OjB5m







          this.dataservice.getAgencies(dataB)
            .subscribe(data => {
              let listB = data;
              this.agencies = this.agencyservice.getAgencies(listA, listB, dataA, dataB);
              this.dataSource = new MatTableDataSource(this.agencies);
            });

				}); 
			}else {this.isValidAddr = false;}});
		}else {this.isValidAddr = false;}});